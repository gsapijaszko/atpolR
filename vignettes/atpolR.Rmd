---
title: "Introduction to atpolR"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Introduction to atpolR}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
bibliography: ../inst/REFERENCES.bib
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Introduction
ATPOL grid was developed in late '60s in Institute of Botany at Jagiellonian University in Kraków. For firs time it was used in Distribution atlas of vascular plants in Poland, and the backgrounds described in [@zajacAtlasDistributionVascular1978; @zajacZalozeniaMetodyczneAtlasu1978]. The extensive mathematical research and GIS implementation was done by Łukasz Komsta and Marek Verey [@komstaRewizjaMatematycznaSiatki2016; @vereyTeoretycznaAnalizaPraktyczne2017]. Algoritms provided by Komsta on [OpenATPOL](https://atpol.sourceforge.io/) are basis for implementation in `atpolR` package.

## Basic usage

* Prepare sample data
* Extend data
* Plot it 

## Functions description
```{r setup}
library(atpolR)
```
Two basic functions `latlon_to_grid()` and `grid_to_latlon()` allows to quickly convert geographical coordinates to ATPOL grid and from grid to coordinates respectivelly.

```{r}
latlon_to_grid(51.01234, 17.23456, 4)
latlon_to_grid(51.01234, 17.23456, 6)
```
The firs two arguments `latlon_to_grid()` function are latitude and longitude respectively. The third argument is the length of returned grid; it might be even number between 2 and 12.

```{r}
grid_to_latlon("CE50")
```
By default `grid_to_latlon()` returns the center of grid square. If you wish to get it's corners, you can pass another 2 arguments to the function, which are X and Y offsets, like:
```{r}
grid_to_latlon("CE50", xoffset = 1, yoffset = 1)
```
for bottom right corner.

ATPOL grids 10km and 100km are generated by `atpol10k()` and `atpol100k()` functions respectively. It returns set of simple features geometries with grids as polygons:

```{r}
atpol100k()
```

For 10k grid it returns a centroids as well:
```{r}
atpol10k()
```

```{r}
b <- boundaryPL()
plot(atpol100k()$geometry)
plot(b, col = "red", add = TRUE)
```

## Bibliography
